sequenceDiagram
  participant Клиент
  participant МиддлБек
  participant Хранилище

  Клиент->>МиддлБек: Отправка транзиции
  МиддлБек->>Хранилище: Клонирование контекста
  МиддлБек->>Хранилище: Разрешение привязок в патче
  МиддлБек->>Хранилище: Применение операций записи в контекст
  МиддлБек->>МиддлБек: Пересчёт производных значений (например, сумм)
  МиддлБек-->>Клиент: Возврат обновлённого контекста
  Клиент->>МиддлБек: Запрос рендеринга экрана
  МиддлБек->>МиддлБек: Разрешение привязок в шаблоне экрана
  МиддлБек-->>Клиент: Возврат разрешённого представления экрана
