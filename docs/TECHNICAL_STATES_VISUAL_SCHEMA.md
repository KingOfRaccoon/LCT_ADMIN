# Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°: Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TECHNICAL STATE WORKFLOW                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  avitoDemo.json    â”‚  â† Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
â”‚                    â”‚
â”‚  {                 â”‚
â”‚    "nodes": [      â”‚
â”‚      {             â”‚
â”‚        "type": "technical",
â”‚        "expressions": [...],
â”‚        "transitions": [...]
â”‚      }             â”‚
â”‚    ]               â”‚
â”‚  }                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      avitoDemoConverter.js                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  1ï¸âƒ£ NORMALIZATION                                                        â”‚
â”‚     normalizeExpression() â”€â†’ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ return_type, default_value       â”‚
â”‚     normalizeTransitions() â”€â†’ Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ logic Ğ´Ğ»Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ñ… vars    â”‚
â”‚                                                                          â”‚
â”‚  2ï¸âƒ£ CONVERSION                                                           â”‚
â”‚     convertNodesToReactFlow() â”€â†’ React Flow nodes Ñ data.expressions    â”‚
â”‚     convertEdgesToReactFlow() â”€â†’ React Flow edges Ñ data.logic          â”‚
â”‚                                                                          â”‚
â”‚  3ï¸âƒ£ VALIDATION                                                           â”‚
â”‚     validateExpression() â”€â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞ¸Ğ½Ñ‚Ğ°ĞºÑĞ¸ÑĞ°, Ñ‚Ğ¸Ğ¿Ğ¾Ğ², Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸    â”‚
â”‚     validateNode() â”€â”€â”€â”€â”€â†’ ĞšĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑĞ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑƒĞ·Ğ»Ğ°                     â”‚
â”‚                                                                          â”‚
â”‚  4ï¸âƒ£ METADATA EXTRACTION                                                  â”‚
â”‚     extractMetadata() â”€â”€â†’ ĞšÑ€Ğ°Ñ‚ĞºĞ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ UI                     â”‚
â”‚     generateDocs() â”€â”€â”€â”€â”€â†’ Markdown Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ                         â”‚
â”‚                                                                          â”‚
â”‚  5ï¸âƒ£ EXPORT                                                               â”‚
â”‚     exportForBackend() â”€â†’ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      React Flow graphData                      â”‚
â”‚                                                                â”‚
â”‚  nodes: [                                                      â”‚
â”‚    {                                                           â”‚
â”‚      id: "credit_check",                                       â”‚
â”‚      type: "technical",                                        â”‚
â”‚      data: {                                                   â”‚
â”‚        expressions: [                                          â”‚
â”‚          {                                                     â”‚
â”‚            variable: "credit_approved",                        â”‚
â”‚            expression: "income > 75000 and debt < 0.3",        â”‚
â”‚            return_type: "boolean",          â† NEW              â”‚
â”‚            default_value: false,            â† NEW              â”‚
â”‚            metadata: {                      â† NEW              â”‚
â”‚              description: "...",                               â”‚
â”‚              examples: [...]                                   â”‚
â”‚            }                                                   â”‚
â”‚          }                                                     â”‚
â”‚        ],                                                      â”‚
â”‚        transitions: [                                          â”‚
â”‚          {                                                     â”‚
â”‚            variables: ["var1", "var2"],                        â”‚
â”‚            logic: "all_true",               â† NEW              â”‚
â”‚            state_id: "NextState"                               â”‚
â”‚          }                                                     â”‚
â”‚        ]                                                       â”‚
â”‚      }                                                         â”‚
â”‚    }                                                           â”‚
â”‚  ]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UI COMPONENTS (To be implemented)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ScreenEditor                                                    â”‚
â”‚  â”œâ”€ CustomNode (technical) â”€â†’ Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ technical ÑƒĞ·Ğ»Ğ¾Ğ²      â”‚
â”‚  â””â”€ CustomEdge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Ğ›ĞµĞ¹Ğ±Ğ»Ñ‹ Ñ logic (ALL TRUE, etc)    â”‚
â”‚                                                                  â”‚
â”‚  ScreenBuilder                                                   â”‚
â”‚  â”œâ”€ TechnicalStateEditor                                         â”‚
â”‚  â”‚  â”œâ”€ ExpressionEditor â”€â”€â†’ Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹            â”‚
â”‚  â”‚  â”‚  â”œâ”€ return_type dropdown                                  â”‚
â”‚  â”‚  â”‚  â”œâ”€ default_value input                                   â”‚
â”‚  â”‚  â”‚  â””â”€ Expression input Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸ĞµĞ¹                         â”‚
â”‚  â”‚  â”œâ”€ FunctionsPalette â”€â”€â†’ Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº SAFE_FUNCTIONS_LIST          â”‚
â”‚  â”‚  â”œâ”€ TransitionsEditor â”€â†’ Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ²            â”‚
â”‚  â”‚  â”‚  â””â”€ logic dropdown (all_true, any_true, ...)              â”‚
â”‚  â”‚  â””â”€ ExpressionTester â”€â”€â†’ Ğ¢ĞµÑÑ‚ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹                      â”‚
â”‚  â”‚                                                               â”‚
â”‚  â””â”€ MetadataEditor â”€â”€â”€â”€â”€â”€â”€â”€â†’ description, tags, examples         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Backend API                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  POST /api/workflow/save                                         â”‚
â”‚  â”€â†’ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ                            â”‚
â”‚                                                                  â”‚
â”‚  POST /api/workflow/test-expression                              â”‚
â”‚  â”€â†’ Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼                          â”‚
â”‚                                                                  â”‚
â”‚  GET /api/workflow/safe-functions                                â”‚
â”‚  â”€â†’ Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹                                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ” Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸: Expression Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TECHNICAL EXPRESSION                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  {                                                              â”‚
â”‚    variable: "credit_approved",         â† Ğ˜Ğ¼Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°        â”‚
â”‚    dependent_variables: [               â† Ğ’Ñ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ    â”‚
â”‚      "annual_income",                                           â”‚
â”‚      "debt_ratio"                                               â”‚
â”‚    ],                                                           â”‚
â”‚    expression: "annual_income > 75000 and debt_ratio < 0.3",    â”‚
â”‚                  â†‘                                              â”‚
â”‚                  â””â”€ ĞœĞ¾Ğ¶ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ SAFE_FUNCTIONS_LIST      â”‚
â”‚                                                                 â”‚
â”‚    return_type: "boolean",              â† Ğ¢Ğ¸Ğ¿ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ°        â”‚
â”‚    default_value: false,                â† ĞŸÑ€Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞµ            â”‚
â”‚                                                                 â”‚
â”‚    metadata: {                          â† Ğ”Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸      â”‚
â”‚      description: "ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ°",                           â”‚
â”‚      category: "credit_evaluation",                             â”‚
â”‚      tags: ["credit", "approval"],                              â”‚
â”‚      examples: [                                                â”‚
â”‚        {                                                        â”‚
â”‚          input: {annual_income: 80000, debt_ratio: 0.25},       â”‚
â”‚          output: true,                                          â”‚
â”‚          description: "Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ Ğ´Ğ¾Ñ…Ğ¾Ğ´ - Ğ¾Ğ´Ğ¾Ğ±Ñ€ĞµĞ½Ğ¾"                â”‚
â”‚        }                                                        â”‚
â”‚      ],                                                         â”‚
â”‚      author: "risk_team",                                       â”‚
â”‚      version: "2.1"                                             â”‚
â”‚    }                                                            â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”€ Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸: Transition Logic

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       TRANSITION TYPES                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  1ï¸âƒ£ SINGLE VARIABLE                                               â”‚
â”‚     {                                                             â”‚
â”‚       variable: "email_valid",                                    â”‚
â”‚       case: "True",                                               â”‚
â”‚       state_id: "NextState"                                       â”‚
â”‚     }                                                             â”‚
â”‚     â†’ ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ ĞµÑĞ»Ğ¸ email_valid == True                            â”‚
â”‚                                                                   â”‚
â”‚  2ï¸âƒ£ MULTIPLE VARIABLES with LOGIC                                 â”‚
â”‚                                                                   â”‚
â”‚     â”Œâ”€ all_true â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚  Ğ’ÑĞµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ True                      â”‚    â”‚
â”‚     â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: id_verified AND email_verified AND phone_...  â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚     â”Œâ”€ any_true â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚  Ğ¥Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ½Ğ° Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ True                         â”‚    â”‚
â”‚     â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: id_verified OR email_verified OR phone_...   â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                   â”‚
â”‚     â”Œâ”€ none_true / all_false â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚  Ğ’ÑĞµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ False                   â”‚      â”‚
â”‚     â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: NOT id_verified AND NOT email_verified     â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                   â”‚
â”‚     â”Œâ”€ exactly_one_true â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚     â”‚  Ğ Ğ¾Ğ²Ğ½Ğ¾ Ğ¾Ğ´Ğ½Ğ° Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ True, Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ False       â”‚       â”‚
â”‚     â”‚  ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: XOR Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸                     â”‚       â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â”‚     {                                                             â”‚
â”‚       variables: ["id_verified", "email_verified"],               â”‚
â”‚       logic: "all_true",                                          â”‚
â”‚       state_id: "FullyVerifiedState"                              â”‚
â”‚     }                                                             â”‚
â”‚     â†’ ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ ĞµÑĞ»Ğ¸ (id_verified AND email_verified)              â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ›¡ï¸ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ (27 Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ² 6 ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑÑ…)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SAFE_FUNCTIONS_LIST                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ“ MATH (6)                                                     â”‚
â”‚     abs(x)           â†’ ĞĞ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ                       â”‚
â”‚     round(x, n)      â†’ ĞĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ n Ğ·Ğ½Ğ°ĞºĞ¾Ğ²                    â”‚
â”‚     min(list)        â†’ ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ                      â”‚
â”‚     max(list)        â†’ ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ                     â”‚
â”‚     sum(list)        â†’ Ğ¡ÑƒĞ¼Ğ¼Ğ° ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²                           â”‚
â”‚     pow(x, n)        â†’ Ğ’Ğ¾Ğ·Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ² ÑÑ‚ĞµĞ¿ĞµĞ½ÑŒ                      â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“ STRING (6)                                                   â”‚
â”‚     upper(s)         â†’ ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ²ĞµÑ€Ñ…Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€          â”‚
â”‚     lower(s)         â†’ ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² Ğ½Ğ¸Ğ¶Ğ½Ğ¸Ğ¹ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€           â”‚
â”‚     strip(s)         â†’ Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ¾Ğ²                         â”‚
â”‚     startswith(s, p) â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° ÑÑ‚Ñ€Ğ¾ĞºĞ¸                    â”‚
â”‚     endswith(s, p)   â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ ÑÑ‚Ñ€Ğ¾ĞºĞ¸                 â”‚
â”‚     contains(s, sub) â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ²Ñ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´ÑÑ‚Ñ€Ğ¾ĞºĞ¸              â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“š COLLECTION (5)                                               â”‚
â”‚     len(x)           â†’ Ğ”Ğ»Ğ¸Ğ½Ğ° ĞºĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸                           â”‚
â”‚     any(list)        â†’ Ğ¥Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ğ¾Ğ´Ğ¸Ğ½ True                         â”‚
â”‚     all(list)        â†’ Ğ’ÑĞµ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ True                         â”‚
â”‚     sorted(list)     â†’ Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° ÑĞ¿Ğ¸ÑĞºĞ°                         â”‚
â”‚     reversed(list)   â†’ Ğ ĞµĞ²ĞµÑ€Ñ ÑĞ¿Ğ¸ÑĞºĞ°                             â”‚
â”‚                                                                  â”‚
â”‚  âœ… CHECK (3)                                                    â”‚
â”‚     is_none(x)       â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° None                          â”‚
â”‚     is_not_none(x)   â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‡Ñ‚Ğ¾ Ğ½Ğµ None                      â”‚
â”‚     is_empty(x)      â†’ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° Ğ¿ÑƒÑÑ‚Ğ¾Ñ‚Ñƒ                       â”‚
â”‚                                                                  â”‚
â”‚  ğŸ—‚ï¸ DICT (3)                                                     â”‚
â”‚     get(d, k, def)   â†’ ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ¸Ğ· ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ñ             â”‚
â”‚     keys(d)          â†’ ĞšĞ»ÑÑ‡Ğ¸ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ñ                             â”‚
â”‚     values(d)        â†’ Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ñ                          â”‚
â”‚                                                                  â”‚
â”‚  ğŸ”„ CAST (4)                                                     â”‚
â”‚     int(x, def)      â†’ ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² int                      â”‚
â”‚     float(x, def)    â†’ ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² float                    â”‚
â”‚     str(x)           â†’ ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² string                   â”‚
â”‚     bool(x)          â†’ ĞŸÑ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² boolean                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ… Validation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  VALIDATION PIPELINE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  Expression Level                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚  âœ“ ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ (variable, expression)               â”‚
â”‚  âœ“ ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ return_type                               â”‚
â”‚  âœ“ Ğ¡ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ dependent_variables Ğ² ÑÑ…ĞµĞ¼Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°    â”‚
â”‚  âœ“ Ğ—Ğ°Ğ¿Ñ€ĞµÑ‰Ñ‘Ğ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ (__, import, eval, ...)        â”‚
â”‚  âœ“ Ğ”Ğ»Ğ¸Ğ½Ğ° Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ (Ğ¼Ğ°ĞºÑ. 1000 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²)                  â”‚
â”‚                                                            â”‚
â”‚  Node Level                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚  âœ“ ĞĞ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ expressions[] Ğ¸ transitions[]                  â”‚
â”‚  âœ“ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ expression                           â”‚
â”‚  âœ“ Ğ’ÑĞµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ² transitions Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ñ‹ Ğ² expressions  â”‚
â”‚  âœ“ ĞšĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ÑÑ‚ÑŒ logic Ğ´Ğ»Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ñ… Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ…        â”‚
â”‚  âœ“ ĞĞ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ target state (state_id)                        â”‚
â”‚                                                            â”‚
â”‚  Result                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  {                                                         â”‚
â”‚    valid: boolean,                                         â”‚
â”‚    errors: [                                               â”‚
â”‚      "Expression[0] (var1): Invalid return_type",          â”‚
â”‚      "Transition[1]: Variable 'x' not defined",            â”‚
â”‚      ...                                                   â”‚
â”‚    ]                                                       â”‚
â”‚  }                                                         â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°:**
- âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¸ Ğ¿Ñ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾
- â³ Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (ÑĞ¼. Ñ‡ĞµĞºĞ»Ğ¸ÑÑ‚)
- ğŸ”— Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¼Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
