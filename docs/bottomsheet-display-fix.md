# üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: Bottom Sheet –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## –ü—Ä–æ–±–ª–µ–º–∞

Bottom Sheet –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Ö–æ—Ç—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `show_edit_recipient` –±—ã–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ `false` –≤ –Ω–∞—á–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

## –ü—Ä–∏—á–∏–Ω–∞

CSS –ø—Ä–∞–≤–∏–ª–æ —Å `!important` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–ª–æ inline —Å—Ç–∏–ª—å –∏–∑ JSON:

```css
/* –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ): */
.sandbox-section[data-slot="overlay"] {
  display: flex !important;  /* ‚Üê –≠—Ç–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–ª–æ display: none –∏–∑ JSON! */
}
```

–ò–∑-–∑–∞ `!important` CSS –ø—Ä–∞–≤–∏–ª–æ –∏–º–µ–ª–æ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º inline —Å—Ç–∏–ª—å `display: none`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã–ª –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## –†–µ—à–µ–Ω–∏–µ

–£–±—Ä–∞–ª–∏ `display: flex !important;` –∏–∑ CSS, –æ—Å—Ç–∞–≤–∏–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `display` –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ JSON —á–µ—Ä–µ–∑ –±–∏–Ω–¥–∏–Ω–≥–∏:

```css
/* –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ): */
.sandbox-section[data-slot="overlay"] {
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  height: 100% !important;
  /* display —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ inline —Å—Ç–∏–ª–∏ –∏–∑ JSON */
}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
```json
{
  "show_edit_recipient": false
}
```

**–ë–∏–Ω–¥–∏–Ω–≥ –≤ JSON:**
```json
{
  "display": {
    "reference": "${show_edit_recipient ? 'flex' : 'none'}",
    "value": "none"
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `display: none` ‚Üí Bottom Sheet **—Å–∫—Ä—ã—Ç** ‚úÖ

### 2. –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª—É—á–∞—Ç–µ–ª—è"

**–ö–æ–Ω—Ç–µ–∫—Å—Ç (–æ–±–Ω–æ–≤–ª—ë–Ω):**
```json
{
  "show_edit_recipient": true
}
```

**–ë–∏–Ω–¥–∏–Ω–≥ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è:**
```javascript
${show_edit_recipient ? 'flex' : 'none'}  // true ? 'flex' : 'none' ‚Üí 'flex'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `display: flex` ‚Üí Bottom Sheet **–ø–æ–∫–∞–∑–∞–Ω** ‚úÖ

### 3. –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è (backdrop –∏–ª–∏ –∫–Ω–æ–ø–∫–∞)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç (–æ–±–Ω–æ–≤–ª—ë–Ω):**
```json
{
  "show_edit_recipient": false
}
```

**–ë–∏–Ω–¥–∏–Ω–≥ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è:**
```javascript
${show_edit_recipient ? 'flex' : 'none'}  // false ? 'flex' : 'none' ‚Üí 'none'
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `display: none` ‚Üí Bottom Sheet **—Å–∫—Ä—ã—Ç** ‚úÖ

## –ü–æ—á–µ–º—É `!important` –±—ã–ª –ø—Ä–æ–±–ª–µ–º–æ–π

CSS —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:

```
!important > inline styles > CSS selectors
```

–ù–æ –∫–æ–≥–¥–∞ —É CSS –ø—Ä–∞–≤–∏–ª–∞ –µ—Å—Ç—å `!important`, –æ–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∞–∂–µ inline —Å—Ç–∏–ª–∏:

```html
<!-- Inline —Å—Ç–∏–ª—å -->
<div style="display: none">...</div>

<!-- CSS —Å !important –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç inline! -->
<style>
  div { display: flex !important; }  /* ‚Üê –ü–æ–±–µ–∂–¥–∞–µ—Ç! */
</style>
```

## –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `!important`

–í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ `!important` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–π—Å—Ç–≤ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ **–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏**:

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```css
.sandbox-section[data-slot="overlay"] {
  position: absolute !important;  /* –í—Å–µ–≥–¥–∞ absolute */
  top: 0 !important;              /* –í—Å–µ–≥–¥–∞ –ø—Ä–∏–∂–∞—Ç –∫ –∫—Ä–∞—è–º */
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  height: 100% !important;        /* –í—Å–µ–≥–¥–∞ –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É */
}
```

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```css
.sandbox-section[data-slot="overlay"] {
  display: flex !important;  /* –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ! */
}
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –¢–µ—Å—Ç 1: –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5174
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Sandbox ‚Üí Avito Demo
3. –û—Ç–∫—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ"
4. ‚úÖ Bottom Sheet **–ù–ï –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω**

### –¢–µ—Å—Ç 2: –û—Ç–∫—Ä—ã—Ç–∏–µ
1. –ù–∞–∂–º–∏—Ç–µ "–ò–∑–º–µ–Ω–∏—Ç—å –ø–æ–ª—É—á–∞—Ç–µ–ª—è"
2. ‚úÖ Bottom Sheet **–¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è** —Å–Ω–∏–∑—É

### –¢–µ—Å—Ç 3: –ó–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ backdrop
1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–∞—Ç–µ–º–Ω—ë–Ω–Ω—ã–π —Ñ–æ–Ω
2. ‚úÖ Bottom Sheet **–¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã—Ç—å—Å—è**

### –¢–µ—Å—Ç 4: –ó–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É
1. –û—Ç–∫—Ä–æ–π—Ç–µ bottom sheet —Å–Ω–æ–≤–∞
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—É—á–∞—Ç–µ–ª—è"
3. ‚úÖ Bottom Sheet **–¥–æ–ª–∂–µ–Ω –∑–∞–∫—Ä—ã—Ç—å—Å—è**

## –û—Ç–ª–∞–¥–∫–∞ –±–∏–Ω–¥–∏–Ω–≥–æ–≤

–ï—Å–ª–∏ bottom sheet –≤—Å—ë –µ—â—ë –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### 1. –ó–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
–û—Ç–∫—Ä–æ–π—Ç–µ DevTools –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ Sandbox:
```javascript
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å false –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
context.show_edit_recipient === false
```

### 2. –ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏
–ò–Ω—Å–ø–µ–∫—Ç–∏—Ä—É–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç overlay –≤ DevTools:
```css
/* –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: */
style="display: none; ..."

/* –ü–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è: */
style="display: flex; ..."
```

### 3. –†–µ–∑–æ–ª–≤–∏–Ω–≥ –±–∏–Ω–¥–∏–Ω–≥–∞
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∏–Ω–¥–∏–Ω–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è:
```json
{
  "reference": "${show_edit_recipient ? 'flex' : 'none'}",
  "value": "none"  // ‚Üê fallback –∑–Ω–∞—á–µ–Ω–∏–µ
}
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ transition –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ CSS:
```css
.sandbox-section[data-slot="overlay"] {
  transition: opacity 0.3s ease;
}
```

–ò –≤ JSON –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É:
```json
{
  "opacity": {
    "reference": "${show_edit_recipient ? 1 : 0}",
    "value": 0
  },
  "pointerEvents": {
    "reference": "${show_edit_recipient ? 'auto' : 'none'}",
    "value": "none"
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ visibility –≤–º–µ—Å—Ç–æ display

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `visibility`:
```json
{
  "visibility": {
    "reference": "${show_edit_recipient ? 'visible' : 'hidden'}",
    "value": "hidden"
  }
}
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: —ç–ª–µ–º–µ–Ω—Ç –æ—Å—Ç–∞—ë—Ç—Å—è –≤ DOM, —á—Ç–æ –º–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- **CSS:** `/src/pages/Sandbox/SandboxPage.css`
- **JSON:** `/src/pages/Sandbox/data/avitoDemo.json`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 
  - `/docs/bottomsheet-fix.md`
  - `/docs/bottomsheet-logic.md`

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 19 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
