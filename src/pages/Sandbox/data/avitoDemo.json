{
  "id": "avito-cart-demo",
  "name": "–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞",
  "description": "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∫–æ—Ä–∑–∏–Ω—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ API",
  "slug": "avito-cart",
  "variableSchemas": {
    "cart_response": {
      "type": "object",
      "schema": {
        "id": "number",
        "user_id": "number",
        "advertisements": "array",
        "total_price": "number",
        "selected_count": "number"
      }
    },
    "store": {
      "type": "object",
      "schema": {
        "id": "number",
        "name": "string",
        "rating": "number"
      }
    },
    "ui": {
      "type": "object",
      "schema": {
        "ready": "boolean",
        "notifications": "object"
      }
    },
    "state": {
      "type": "object",
      "schema": {
        "empty": "boolean",
        "loading": "boolean"
      }
    },
    "selected_item_id": {
      "type": "number",
      "schema": null
    },
    "quantity_change": {
      "type": "number",
      "schema": null
    },
    "suggested_products": {
      "type": "array",
      "schema": []
    }
  },
  "initialContext": {
    "cart_response": {
      "id": 3,
      "user_id": 14,
      "advertisements": [],
      "total_price": 0,
      "selected_count": 0
    },
    "store": {
      "id": 14,
      "name": "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ë–∞—Ç—é—à–∫–æ–≤–∞",
      "rating": 5.0
    },
    "selected_advertisement_id": 8,
    "add_to_cart_response": null,
    "selected_item_id": null,
    "quantity_change": 1,
    "suggested_products": [
      {
        "id": 10,
        "name": "Apple Watch 10 256Gb",
        "price": 26591,
        "image": "https://via.placeholder.com/80"
      },
      {
        "id": 11,
        "name": "iPhone 16 Pro 256Gb",
        "price": 99990,
        "image": "https://via.placeholder.com/80"
      }
    ],
    "ui": {
      "ready": false,
      "notifications": {
        "type": null,
        "message": null,
        "actionLabel": null,
        "actionEvent": null
      }
    },
    "state": {
      "empty": true,
      "loading": false
    }
  },
  "nodes": [
    {
      "id": "fetch-cart-items",
      "label": "–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∫–æ—Ä–∑–∏–Ω—ã",
      "type": "integration",
      "state_type": "integration",
      "start": true,
      "description": "–ó–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
      "expressions": [
        {
          "variable": "cart_response",
          "url": "https://sandkittens.me/backservices/api/carts/3/with-advertisements",
          "params": {},
          "method": "get",
          "metadata": {
            "description": "–ü–æ–ª—É—á–∞–µ—Ç –∫–æ—Ä–∑–∏–Ω—É —Å ID 3 –∏ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω–µ–π",
            "category": "data",
            "tags": ["integration", "api", "cart", "advertisements"]
          }
        }
      ],
      "transitions": [
        {
          "variable": "cart_response",
          "case": null,
          "state_id": "cart-main"
        }
      ],
      "edges": []
    },
    {
      "id": "cart-main",
      "label": "–ö–æ—Ä–∑–∏–Ω–∞",
      "type": "screen",
      "screenId": "screen-cart-main",
      "start": false,
      "edges": [
        {
          "id": "edge-add-to-cart",
          "label": "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä",
          "event": "addToCart",
          "keepInputs": true,
          "summary": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É",
          "target": "add-to-cart-integration",
          "contextPatch": {}
        },
        {
          "id": "edge-increase-quantity",
          "label": "–£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ",
          "event": "increaseQuantity",
          "keepInputs": true,
          "summary": "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞",
          "target": "increase-quantity-integration",
          "contextPatch": {}
        },
        {
          "id": "edge-decrease-quantity",
          "label": "–£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ",
          "event": "decreaseQuantity",
          "keepInputs": true,
          "summary": "–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞",
          "target": "decrease-quantity-integration",
          "contextPatch": {}
        },
        {
          "id": "edge-remove-item",
          "label": "–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä",
          "event": "removeItem",
          "keepInputs": true,
          "summary": "–£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã",
          "target": "remove-item-integration",
          "contextPatch": {}
        },
        {
          "id": "edge-toggle-focus",
          "label": "–°–Ω—è—Ç—å/–≤–µ—Ä–Ω—É—Ç—å —Ñ–æ–∫—É—Å",
          "event": "toggleFocus",
          "keepInputs": true,
          "summary": "–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ —Ä–∞—Å—á–µ—Ç–µ",
          "target": "toggle-focus-integration",
          "contextPatch": {}
        },
        {
          "id": "edge-checkout",
          "label": "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑",
          "event": "checkout",
          "keepInputs": true,
          "summary": "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞",
          "target": "checkout-screen",
          "contextPatch": {}
        }
      ]
    },
    {
      "id": "add-to-cart-integration",
      "label": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É",
      "type": "integration",
      "state_type": "integration",
      "start": false,
      "description": "POST-–∑–∞–ø—Ä–æ—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É",
      "expressions": [
        {
          "variable": "add_to_cart_response",
          "url": "https://sandkittens.me/backservices/api/carts/add-advertisement",
          "params": {},
          "method": "post",
          "body": {
            "cart_id": 3,
            "advertisement_id": 10
          },
          "metadata": {
            "description": "–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
            "category": "data",
            "tags": ["integration", "api", "cart", "post"]
          }
        }
      ],
      "transitions": [
        {
          "variable": "add_to_cart_response",
          "case": null,
          "state_id": "fetch-cart-items"
        }
      ],
      "edges": []
    },
    {
      "id": "increase-quantity-integration",
      "label": "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞",
      "type": "integration",
      "state_type": "integration",
      "start": false,
      "description": "PATCH-–∑–∞–ø—Ä–æ—Å –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ",
      "expressions": [
        {
          "variable": "add_to_cart_response",
          "url": "https://sandkittens.me/backservices/api/carts/update-quantity",
          "params": {},
          "method": "patch",
          "body": {
            "cart_id": 3,
            "advertisement_id": "${selected_item_id}",
            "quantity_change": 1
          },
          "metadata": {
            "description": "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ 1",
            "category": "data",
            "tags": ["integration", "api", "cart", "quantity"]
          }
        }
      ],
      "transitions": [
        {
          "variable": "add_to_cart_response",
          "case": null,
          "state_id": "fetch-cart-items"
        }
      ],
      "edges": []
    },
    {
      "id": "decrease-quantity-integration",
      "label": "–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞",
      "type": "integration",
      "state_type": "integration",
      "start": false,
      "description": "PATCH-–∑–∞–ø—Ä–æ—Å –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ",
      "expressions": [
        {
          "variable": "add_to_cart_response",
          "url": "https://sandkittens.me/backservices/api/carts/update-quantity",
          "params": {},
          "method": "patch",
          "body": {
            "cart_id": 3,
            "advertisement_id": "${selected_item_id}",
            "quantity_change": -1
          },
          "metadata": {
            "description": "–£–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ 1",
            "category": "data",
            "tags": ["integration", "api", "cart", "quantity"]
          }
        }
      ],
      "transitions": [
        {
          "variable": "add_to_cart_response",
          "case": null,
          "state_id": "fetch-cart-items"
        }
      ],
      "edges": []
    },
    {
      "id": "remove-item-integration",
      "label": "–£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",
      "type": "integration",
      "state_type": "integration",
      "start": false,
      "description": "DELETE-–∑–∞–ø—Ä–æ—Å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã",
      "expressions": [
        {
          "variable": "add_to_cart_response",
          "url": "https://sandkittens.me/backservices/api/carts/remove-advertisement",
          "params": {},
          "method": "delete",
          "body": {
            "cart_id": 3,
            "advertisement_id": "${selected_item_id}"
          },
          "metadata": {
            "description": "–£–¥–∞–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã",
            "category": "data",
            "tags": ["integration", "api", "cart", "delete"]
          }
        }
      ],
      "transitions": [
        {
          "variable": "add_to_cart_response",
          "case": null,
          "state_id": "fetch-cart-items"
        }
      ],
      "edges": []
    },
    {
      "id": "toggle-focus-integration",
      "label": "–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞",
      "type": "integration",
      "state_type": "integration",
      "start": false,
      "description": "PATCH-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–Ω—è—Ç–∏—è/–≤–æ–∑–≤—Ä–∞—Ç–∞ —Ñ–æ–∫—É—Å–∞ (—É—á–∞—Å—Ç–∏–µ –≤ —Ä–∞—Å—á–µ—Ç–µ)",
      "expressions": [
        {
          "variable": "add_to_cart_response",
          "url": "https://sandkittens.me/backservices/api/carts/toggle-focus",
          "params": {},
          "method": "patch",
          "body": {
            "cart_id": 3,
            "advertisement_id": "${selected_item_id}"
          },
          "metadata": {
            "description": "–ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —É—á–∞—Å—Ç–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ —Ä–∞—Å—á–µ—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏",
            "category": "data",
            "tags": ["integration", "api", "cart", "focus"]
          }
        }
      ],
      "transitions": [
        {
          "variable": "add_to_cart_response",
          "case": null,
          "state_id": "fetch-cart-items"
        }
      ],
      "edges": []
    },
    {
      "id": "checkout-screen",
      "label": "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞",
      "type": "screen",
      "screenId": "screen-checkout",
      "edges": []
    }
  ],
  "screens": {
    "screen-cart-main": {
      "id": "screen-cart-main",
      "type": "Screen",
      "name": "–ö–æ—Ä–∑–∏–Ω–∞",
      "style": {
        "display": "flex",
        "flexDirection": "column",
        "minHeight": "720px",
        "backgroundColor": "#ffffff",
        "borderRadius": "12px",
        "padding": "0px"
      },
      "sections": {
        "header": {
          "id": "section-cart-header",
          "type": "Section",
          "properties": {
            "slot": "header",
            "padding": 16,
            "spacing": 12,
            "background": "#ffffff"
          },
          "style": {
            "borderBottom": "1px solid #E5E5E5"
          },
          "children": [
            {
              "id": "text-cart-title",
              "type": "text",
              "properties": {
                "content": "–ö–æ—Ä–∑–∏–Ω–∞",
                "variant": "heading"
              },
              "style": {
                "fontSize": "24px",
                "fontWeight": 700,
                "color": "#2F3034"
              }
            },
            {
              "id": "row-cart-actions",
              "type": "row",
              "properties": {
                "spacing": 12,
                "alignItems": "center",
                "justifyContent": "space-between"
              },
              "children": [
                {
                  "id": "text-store-name",
                  "type": "text",
                  "properties": {
                    "content": {
                      "reference": "${store.name}",
                      "value": "–ú–∞–≥–∞–∑–∏–Ω"
                    },
                    "variant": "body"
                  },
                  "style": {
                    "fontSize": "15px",
                    "color": "#000000",
                    "fontWeight": 400
                  }
                }
              ]
            }
          ]
        },
        "body": {
          "id": "section-cart-body",
          "type": "Section",
          "properties": {
            "slot": "body",
            "padding": 16,
            "spacing": 16,
            "alignItems": "stretch"
          },
          "style": {
            "flex": "1 1 auto",
            "overflowY": "auto"
          },
          "children": [
            {
              "id": "conditional-empty-state",
              "type": "conditional",
              "properties": {
                "condition": {
                  "reference": "${cart_response.advertisements.length === 0}",
                  "value": true
                }
              },
              "children": [
                {
                  "id": "column-empty-state",
                  "type": "column",
                  "properties": {
                    "spacing": 24,
                    "alignItems": "center",
                    "justifyContent": "center",
                    "padding": 64
                  },
                  "style": {
                    "flex": "1 1 auto"
                  },
                  "children": [
                    {
                      "id": "image-empty-cart",
                      "type": "image",
                      "properties": {
                        "src": "https://via.placeholder.com/200x200/E5E5E5/8E8E93?text=üõí",
                        "alt": "–ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞"
                      },
                      "style": {
                        "width": "200px",
                        "height": "200px",
                        "borderRadius": "50%"
                      }
                    },
                    {
                      "id": "text-empty-title",
                      "type": "text",
                      "properties": {
                        "content": "–í –∫–æ—Ä–∑–∏–Ω–µ –ø—É—Å—Ç–æ",
                        "variant": "heading"
                      },
                      "style": {
                        "fontSize": "24px",
                        "fontWeight": 700,
                        "color": "#2F3034",
                        "textAlign": "center"
                      }
                    },
                    {
                      "id": "text-empty-description",
                      "type": "text",
                      "properties": {
                        "content": "–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞",
                        "variant": "body"
                      },
                      "style": {
                        "fontSize": "15px",
                        "fontWeight": 400,
                        "color": "#8E8E93",
                        "textAlign": "center"
                      }
                    }
                  ]
                }
              ]
            },
            {
              "id": "conditional-cart-items",
              "type": "conditional",
              "properties": {
                "condition": {
                  "reference": "${cart_response.advertisements.length > 0}",
                  "value": false
                }
              },
              "children": [
                {
                  "id": "column-cart-content",
                  "type": "column",
                  "properties": {
                    "spacing": 16
                  },
                  "children": [
                    {
                      "id": "list-cart-items",
                      "type": "list",
                      "properties": {
                        "dataSource": {
                          "reference": "${cart_response.advertisements}",
                          "value": []
                        },
                        "itemAlias": "product"
                      },
                      "style": {
                        "display": "flex",
                        "flexDirection": "column",
                        "gap": "12px"
                      },
                      "children": [
                        {
                          "id": "card-cart-item-{{itemIndex}}",
                          "type": "column",
                          "properties": {
                            "spacing": 12,
                            "padding": 16,
                            "background": "#ffffff"
                          },
                          "style": {
                            "borderRadius": "12px",
                            "border": "1px solid #E5E5E5",
                            "opacity": {
                              "reference": "${product.is_focused ? 1 : 0.5}",
                              "value": 1
                            }
                          },
                          "children": [
                            {
                              "id": "row-item-header-{{itemIndex}}",
                              "type": "row",
                              "properties": {
                                "spacing": 12,
                                "alignItems": "flex-start",
                                "justifyContent": "space-between"
                              },
                              "children": [
                                {
                                  "id": "row-item-info-{{itemIndex}}",
                                  "type": "row",
                                  "properties": {
                                    "spacing": 12,
                                    "flex": 1
                                  },
                                  "children": [
                                    {
                                      "id": "image-product-{{itemIndex}}",
                                      "type": "image",
                                      "properties": {
                                        "src": {
                                          "reference": "${product.image || 'https://via.placeholder.com/80'}",
                                          "value": "https://via.placeholder.com/80"
                                        },
                                        "alt": "–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞"
                                      },
                                      "style": {
                                        "width": "80px",
                                        "height": "80px",
                                        "borderRadius": "8px",
                                        "objectFit": "cover"
                                      }
                                    },
                                    {
                                      "id": "column-item-details-{{itemIndex}}",
                                      "type": "column",
                                      "properties": {
                                        "spacing": 6,
                                        "flex": 1
                                      },
                                      "children": [
                                        {
                                          "id": "text-item-title-{{itemIndex}}",
                                          "type": "text",
                                          "properties": {
                                            "content": {
                                              "reference": "${product.name}",
                                              "value": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞"
                                            },
                                            "variant": "body"
                                          },
                                          "style": {
                                            "fontSize": "15px",
                                            "fontWeight": 600,
                                            "color": "#000000"
                                          }
                                        },
                                        {
                                          "id": "text-item-description-{{itemIndex}}",
                                          "type": "text",
                                          "properties": {
                                            "content": {
                                              "reference": "${product.description}",
                                              "value": "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞"
                                            },
                                            "variant": "caption"
                                          },
                                          "style": {
                                            "fontSize": "13px",
                                            "fontWeight": 400,
                                            "color": "#8E8E93"
                                          }
                                        },
                                        {
                                          "id": "text-item-price-{{itemIndex}}",
                                          "type": "text",
                                          "properties": {
                                            "content": {
                                              "reference": "${product.price} ‚ÇΩ",
                                              "value": "0 ‚ÇΩ"
                                            },
                                            "variant": "body"
                                          },
                                          "style": {
                                            "fontSize": "17px",
                                            "fontWeight": 700,
                                            "color": "#000000"
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "id": "column-item-actions-{{itemIndex}}",
                                  "type": "column",
                                  "properties": {
                                    "spacing": 8,
                                    "alignItems": "flex-end"
                                  },
                                  "children": [
                                    {
                                      "id": "button-remove-{{itemIndex}}",
                                      "type": "button",
                                      "properties": {
                                        "text": "üóëÔ∏è",
                                        "variant": "ghost",
                                        "event": "removeItem",
                                        "eventParams": {
                                          "selected_item_id": {
                                            "reference": "${product.id}",
                                            "value": 0
                                          }
                                        }
                                      },
                                      "style": {
                                        "padding": "8px",
                                        "fontSize": "18px",
                                        "background": "transparent",
                                        "border": "none",
                                        "cursor": "pointer"
                                      }
                                    },
                                    {
                                      "id": "button-toggle-focus-{{itemIndex}}",
                                      "type": "button",
                                      "properties": {
                                        "text": {
                                          "reference": "${product.is_focused ? '‚òëÔ∏è' : '‚¨ú'}",
                                          "value": "‚òëÔ∏è"
                                        },
                                        "variant": "ghost",
                                        "event": "toggleFocus",
                                        "eventParams": {
                                          "selected_item_id": {
                                            "reference": "${product.id}",
                                            "value": 0
                                          }
                                        }
                                      },
                                      "style": {
                                        "padding": "8px",
                                        "fontSize": "18px",
                                        "background": "transparent",
                                        "border": "none",
                                        "cursor": "pointer"
                                      }
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "id": "row-item-quantity-{{itemIndex}}",
                              "type": "row",
                              "properties": {
                                "spacing": 8,
                                "alignItems": "center",
                                "justifyContent": "flex-end"
                              },
                              "children": [
                                {
                                  "id": "button-decrease-{{itemIndex}}",
                                  "type": "button",
                                  "properties": {
                                    "text": "‚àí",
                                    "variant": "secondary",
                                    "event": "decreaseQuantity",
                                    "eventParams": {
                                      "selected_item_id": {
                                        "reference": "${product.id}",
                                        "value": 0
                                      }
                                    }
                                  },
                                  "style": {
                                    "width": "32px",
                                    "height": "32px",
                                    "padding": "0",
                                    "borderRadius": "8px",
                                    "backgroundColor": "#F0F0F0",
                                    "fontSize": "18px",
                                    "fontWeight": 600,
                                    "color": "#000000",
                                    "border": "1px solid #E5E5E5",
                                    "cursor": "pointer"
                                  }
                                },
                                {
                                  "id": "text-quantity-{{itemIndex}}",
                                  "type": "text",
                                  "properties": {
                                    "content": {
                                      "reference": "${product.quantity || 1}",
                                      "value": "1"
                                    },
                                    "variant": "body"
                                  },
                                  "style": {
                                    "fontSize": "15px",
                                    "fontWeight": 600,
                                    "color": "#000000",
                                    "minWidth": "24px",
                                    "textAlign": "center"
                                  }
                                },
                                {
                                  "id": "button-increase-{{itemIndex}}",
                                  "type": "button",
                                  "properties": {
                                    "text": "+",
                                    "variant": "secondary",
                                    "event": "increaseQuantity",
                                    "eventParams": {
                                      "selected_item_id": {
                                        "reference": "${product.id}",
                                        "value": 0
                                      }
                                    }
                                  },
                                  "style": {
                                    "width": "32px",
                                    "height": "32px",
                                    "padding": "0",
                                    "borderRadius": "8px",
                                    "backgroundColor": "#F0F0F0",
                                    "fontSize": "18px",
                                    "fontWeight": 600,
                                    "color": "#000000",
                                    "border": "1px solid #E5E5E5",
                                    "cursor": "pointer"
                                  }
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "id": "divider-suggested",
                      "type": "divider",
                      "style": {
                        "margin": "8px 0",
                        "borderTop": "1px solid #E5E5E5"
                      }
                    },
                    {
                      "id": "text-suggested-title",
                      "type": "text",
                      "properties": {
                        "content": "–î–æ–±–∞–≤—å—Ç–µ –µ—â—ë 1 —Ç–æ–≤–∞—Ä –¥–æ —Å–∫–∏–¥–∫–∏ 5%",
                        "variant": "body"
                      },
                      "style": {
                        "fontSize": "13px",
                        "fontWeight": 600,
                        "color": "#8E8E93"
                      }
                    },
                    {
                      "id": "list-suggested-products",
                      "type": "list",
                      "properties": {
                        "dataSource": {
                          "reference": "${suggested_products}",
                          "value": []
                        },
                        "itemAlias": "suggested"
                      },
                      "style": {
                        "display": "flex",
                        "flexDirection": "column",
                        "gap": "12px"
                      },
                      "children": [
                        {
                          "id": "card-suggested-{{itemIndex}}",
                          "type": "row",
                          "properties": {
                            "spacing": 12,
                            "padding": 12,
                            "background": "#F9F9F9"
                          },
                          "style": {
                            "borderRadius": "12px",
                            "border": "1px solid #E5E5E5",
                            "cursor": "pointer"
                          },
                          "children": [
                            {
                              "id": "image-suggested-{{itemIndex}}",
                              "type": "image",
                              "properties": {
                                "src": {
                                  "reference": "${suggested.image}",
                                  "value": "https://via.placeholder.com/60"
                                },
                                "alt": "–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π —Ç–æ–≤–∞—Ä"
                              },
                              "style": {
                                "width": "60px",
                                "height": "60px",
                                "borderRadius": "8px",
                                "objectFit": "cover"
                              }
                            },
                            {
                              "id": "column-suggested-info-{{itemIndex}}",
                              "type": "column",
                              "properties": {
                                "spacing": 4,
                                "flex": 1
                              },
                              "children": [
                                {
                                  "id": "text-suggested-name-{{itemIndex}}",
                                  "type": "text",
                                  "properties": {
                                    "content": {
                                      "reference": "${suggested.name}",
                                      "value": "–¢–æ–≤–∞—Ä"
                                    },
                                    "variant": "body"
                                  },
                                  "style": {
                                    "fontSize": "14px",
                                    "fontWeight": 600,
                                    "color": "#000000"
                                  }
                                },
                                {
                                  "id": "text-suggested-price-{{itemIndex}}",
                                  "type": "text",
                                  "properties": {
                                    "content": {
                                      "reference": "${suggested.price} ‚ÇΩ",
                                      "value": "0 ‚ÇΩ"
                                    },
                                    "variant": "body"
                                  },
                                  "style": {
                                    "fontSize": "15px",
                                    "fontWeight": 700,
                                    "color": "#000000"
                                  }
                                }
                              ]
                            },
                            {
                              "id": "button-add-suggested-{{itemIndex}}",
                              "type": "button",
                              "properties": {
                                "text": "–í –∫–æ—Ä–∑–∏–Ω—É",
                                "variant": "primary",
                                "event": "addToCart",
                                "eventParams": {
                                  "advertisement_id": {
                                    "reference": "${suggested.id}",
                                    "value": 0
                                  }
                                }
                              },
                              "style": {
                                "padding": "8px 16px",
                                "borderRadius": "8px",
                                "backgroundColor": "#0A74F0",
                                "fontSize": "13px",
                                "fontWeight": 600,
                                "color": "#ffffff",
                                "border": "none",
                                "cursor": "pointer"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        "footer": {
          "id": "section-cart-footer",
          "type": "Section",
          "properties": {
            "slot": "footer",
            "padding": 16,
            "spacing": 12,
            "background": "#ffffff"
          },
          "style": {
            "borderTop": "1px solid #E5E5E5",
            "boxShadow": "0 -2px 8px rgba(0, 0, 0, 0.08)"
          },
          "children": [
            {
              "id": "row-total-info",
              "type": "row",
              "properties": {
                "spacing": 0,
                "alignItems": "center",
                "justifyContent": "space-between"
              },
              "children": [
                {
                  "id": "column-total-details",
                  "type": "column",
                  "properties": {
                    "spacing": 4
                  },
                  "children": [
                    {
                      "id": "text-total-label",
                      "type": "text",
                      "properties": {
                        "content": "–ò—Ç–æ–≥–æ",
                        "variant": "body"
                      },
                      "style": {
                        "fontSize": "13px",
                        "fontWeight": 400,
                        "color": "#8E8E93"
                      }
                    },
                    {
                      "id": "text-total-price",
                      "type": "text",
                      "properties": {
                        "content": {
                          "reference": "${cart_response.total_price || 0} ‚ÇΩ",
                          "value": "0 ‚ÇΩ"
                        },
                        "variant": "heading"
                      },
                      "style": {
                        "fontSize": "24px",
                        "fontWeight": 700,
                        "color": "#000000"
                      }
                    }
                  ]
                },
                {
                  "id": "text-selected-count",
                  "type": "text",
                  "properties": {
                    "content": {
                      "reference": "–í—ã–±—Ä–∞–Ω–æ: ${cart_response.selected_count || 0}",
                      "value": "–í—ã–±—Ä–∞–Ω–æ: 0"
                    },
                    "variant": "caption"
                  },
                  "style": {
                    "fontSize": "13px",
                    "fontWeight": 400,
                    "color": "#8E8E93"
                  }
                }
              ]
            },
            {
              "id": "button-checkout",
              "type": "button",
              "properties": {
                "text": "–û—Ñ–æ—Ä–º–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É",
                "variant": "primary",
                "event": "checkout",
                "disabled": {
                  "reference": "${cart_response.advertisements.length === 0}",
                  "value": true
                }
              },
              "style": {
                "width": "100%",
                "padding": "16px",
                "borderRadius": "12px",
                "backgroundColor": "#0A74F0",
                "fontSize": "16px",
                "fontWeight": 600,
                "color": "#ffffff",
                "border": "none",
                "cursor": "pointer"
              }
            }
          ]
        }
      }
    },
    "screen-checkout": {
      "id": "screen-checkout",
      "type": "Screen",
      "name": "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ",
      "style": {
        "display": "flex",
        "flexDirection": "column",
        "minHeight": "720px",
        "backgroundColor": "#ffffff",
        "borderRadius": "12px",
        "padding": "0px"
      },
      "sections": {
        "body": {
          "id": "section-checkout-body",
          "type": "Section",
          "properties": {
            "slot": "body",
            "padding": 32,
            "spacing": 16,
            "alignItems": "stretch"
          },
          "style": {
            "flex": "1 1 auto"
          },
          "children": [
            {
              "id": "text-checkout-title",
              "type": "text",
              "properties": {
                "content": "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞",
                "variant": "heading"
              },
              "style": {
                "fontSize": "24px",
                "fontWeight": 700,
                "color": "#2F3034"
              }
            },
            {
              "id": "text-checkout-placeholder",
              "type": "text",
              "properties": {
                "content": "–§–æ—Ä–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å",
                "variant": "body"
              },
              "style": {
                "fontSize": "15px",
                "color": "#8E8E93"
              }
            }
          ]
        }
      }
    }
  }
}
