# üåê Integration States ‚Äî –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞! ‚úÖ

## üéâ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ **Integration States** –¥–ª—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö API –≤ workflow.

## üì¶ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **avitoDemoConverter.js** ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Integration States
- ‚úÖ **integrationStates.js** ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ
- ‚úÖ **IntegrationStateForm.jsx** ‚Äî UI —Ñ–æ—Ä–º–∞ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ **IntegrationStateForm.css** ‚Äî —Å—Ç–∏–ª–∏ —Ñ–æ—Ä–º—ã

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ **SandboxPage.jsx** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Integration States
- ‚úÖ **avitoDemo.json** ‚Äî –∂–∏–≤–æ–π –ø—Ä–∏–º–µ—Ä —Å Nekos Best API

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ **Developer Guide** (550 —Å—Ç—Ä–æ–∫) ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- ‚úÖ **Quick Start** (90 —Å—Ç—Ä–æ–∫) ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ **Testing Guide** (350 —Å—Ç—Ä–æ–∫) ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ **Examples** (550 —Å—Ç—Ä–æ–∫) ‚Äî 8 –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **Summary** (300 —Å—Ç—Ä–æ–∫) ‚Äî –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. Dev —Å–µ—Ä–≤–µ—Ä —É–∂–µ –∑–∞–ø—É—â–µ–Ω!
```
‚úì Server: http://localhost:5174
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–µ–º–æ
```
http://localhost:5174/sandbox?product=avitoDemo
```

### 3. –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ
1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** ‚Äî –∑–∞–ø—Ä–æ—Å –∫ https://nekos.best/api/v2/hug?amount=4
2. **4 –º–∏–ª—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏** –≤ —Å–µ—Ç–∫–µ 2x2
3. **–ò–º–µ–Ω–∞ —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤** –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
4. **–ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞** –∫ –∫–æ—Ä–∑–∏–Ω–µ Avito

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å
```javascript
[Integration] Detected integration node: fetch-cute-images
[Integration] Executing GET https://nekos.best/api/v2/hug?amount=4
[Integration] Success: cute_images {results: Array(4)}
[Integration] Moving to next state: show-cute-images
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å
```json
{
  "type": "integration",
  "expressions": [{
    "variable": "products",
    "url": "https://api.shop.com/products"
  }]
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –£–∑–µ–ª –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ
- HTTP –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–∫—Ä–∞–Ω—É

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```json
{
  "type": "list",
  "properties": {
    "dataSource": "{{products}}"
  }
}
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ avitoDemoConverter.js        (+400 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ IntegrationStateForm.jsx     (485 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îÇ   ‚îî‚îÄ‚îÄ IntegrationStateForm.css     (225 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ Sandbox/
‚îÇ       ‚îú‚îÄ‚îÄ SandboxPage.jsx          (+60 —Å—Ç—Ä–æ–∫)
‚îÇ       ‚îú‚îÄ‚îÄ utils/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ integrationStates.js (280 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îÇ       ‚îî‚îÄ‚îÄ data/
‚îÇ           ‚îî‚îÄ‚îÄ avitoDemo.json       (+147 —Å—Ç—Ä–æ–∫)

docs/
‚îú‚îÄ‚îÄ INTEGRATION_STATES_DEVELOPER_GUIDE.md  (550 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îú‚îÄ‚îÄ INTEGRATION_STATES_QUICKSTART.md       (90 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îú‚îÄ‚îÄ INTEGRATION_STATES_TESTING.md          (350 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îú‚îÄ‚îÄ INTEGRATION_STATES_EXAMPLES.md         (550 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îú‚îÄ‚îÄ INTEGRATION_STATES_SUMMARY.md          (300 —Å—Ç—Ä–æ–∫) ‚ú® NEW
‚îî‚îÄ‚îÄ INTEGRATION_STATES_README.md           (—ç—Ç–æ—Ç —Ñ–∞–π–ª) ‚ú® NEW
```

## üß™ –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û—Ç–∫—Ä–æ–π—Ç–µ –¥–µ–º–æ
```bash
# Server —É–∂–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:5174
open http://localhost:5174/sandbox?product=avitoDemo
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- [ ] 4 –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –ö–æ–Ω—Å–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ `[Integration]`
- [ ] Network tab –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- [ ] –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫ –∫–æ—Ä–∑–∏–Ω–µ" —Ä–∞–±–æ—Ç–∞–µ—Ç

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- [Developer Guide](./INTEGRATION_STATES_DEVELOPER_GUIDE.md) ‚Äî API, —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
- [Quick Start](./INTEGRATION_STATES_QUICKSTART.md) ‚Äî –Ω–∞—á–∞—Ç—å –∑–∞ 5 –º–∏–Ω—É—Ç
- [Examples](./INTEGRATION_STATES_EXAMPLES.md) ‚Äî 8 –≥–æ—Ç–æ–≤—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤
- [Testing Guide](./INTEGRATION_STATES_TESTING.md) ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- [Summary](./INTEGRATION_STATES_SUMMARY.md) ‚Äî –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

## üé® UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```jsx
import { IntegrationStateForm } from '@/components/IntegrationStateForm';

<IntegrationStateForm
  onSubmit={handleSubmit}
  onCancel={handleCancel}
  availableStates={states}
  availableVariables={variables}
/>
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º—ã:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
- ‚úÖ –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä JSON
- ‚úÖ Tooltips –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

## üîß API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–∞
```javascript
import { createIntegrationNodeTemplate } from '@/utils/avitoDemoConverter';

const node = createIntegrationNodeTemplate('FetchData', {
  variableName: 'api_data',
  url: 'https://api.example.com/data',
  method: 'get',
  nextState: 'DataScreen'
});
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è
```javascript
import { validateIntegrationNode } from '@/utils/avitoDemoConverter';

const validation = validateIntegrationNode(node);
if (!validation.valid) {
  console.error(validation.errors);
}
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```javascript
import { executeIntegrationNode } from '@/pages/Sandbox/utils/integrationStates';

const result = await executeIntegrationNode(node, context);
if (result.success) {
  setContext(result.context);
}
```

## üåü –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
```json
{
  "variable": "user_profile",
  "url": "https://api.example.com/users/{{user_id}}"
}
```

### 2. –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```json
{
  "variable": "submit_result",
  "url": "https://api.example.com/submit",
  "params": {
    "name": "{{user_name}}",
    "email": "{{user_email}}"
  },
  "method": "post"
}
```

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞
```json
{
  "variable": "products",
  "url": "https://api.shop.com/products",
  "params": {
    "category": "{{selected_category}}",
    "limit": "20"
  }
}
```

## üéØ Roadmap

### Q1 2026
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ headers (Authorization)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (error_variable, on_error_state)
- [ ] Retry –ª–æ–≥–∏–∫–∞

### Q2 2026
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (cache_ttl, cache_key)
- [ ] –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ (JSONPath)
- [ ] Batch –∑–∞–ø—Ä–æ—Å—ã

### Q3 2026
- [ ] GraphQL –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] File uploads
- [ ] WebSocket

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–î–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ–¥–∞**: ~1800 —Å—Ç—Ä–æ–∫
- **–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤**: 8
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤**: 2
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: ~2400 —Å—Ç—Ä–æ–∫
- **–ü—Ä–∏–º–µ—Ä–æ–≤**: 8 –ø–æ–ª–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

Integration States –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

- ‚úÖ –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–æ—Ç–æ–≤
- ‚úÖ –ñ–∏–≤–æ–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è
- ‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ**: –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5174/sandbox?product=avitoDemo
2. **–ò–∑—É—á–∏—Ç–µ**: –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [Developer Guide](./INTEGRATION_STATES_DEVELOPER_GUIDE.md)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ**: –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π Integration State
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ**: –î–æ–±–∞–≤—å—Ç–µ –≤ ScreenEditor –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Issues**: –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- **Docs**: –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `/docs/INTEGRATION_STATES_*.md`
- **Examples**: 8 –ø—Ä–∏–º–µ—Ä–æ–≤ –≤ `/docs/INTEGRATION_STATES_EXAMPLES.md`

---

## üéâ –ì–æ—Ç–æ–≤–æ!

**Integration States** ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö workflow —Å –ø–æ–¥–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏–∑ API. Zero code, –ø–æ–ª–Ω–∞—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å, –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–î–µ–º–æ**: http://localhost:5174/sandbox?product=avitoDemo üå∏

---

_–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: 2 –æ–∫—Ç—è–±—Ä—è 2025 –≥._  
_–°—Ç–∞—Ç—É—Å: ‚úÖ Production Ready_
