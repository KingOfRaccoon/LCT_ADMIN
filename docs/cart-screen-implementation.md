# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ –∫–æ—Ä–∑–∏–Ω—ã

## üìã –û–±–∑–æ—Ä

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω –∫–æ—Ä–∑–∏–Ω—ã —Å –¥–≤—É–º—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (–ø—É—Å—Ç–∞—è/–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–∞—è) –∏ –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞–º–∏.

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. **–î–≤–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —ç–∫—Ä–∞–Ω–∞**

#### –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`cart_response.advertisements.length === 0`)
- üõí –ò–∫–æ–Ω–∫–∞ –ø—É—Å—Ç–æ–π –∫–æ—Ä–∑–∏–Ω—ã (placeholder –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- üìù –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–í –∫–æ—Ä–∑–∏–Ω–µ –ø—É—Å—Ç–æ"
- üí¨ –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞"
- üé® –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π layout —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º

#### –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`cart_response.advertisements.length > 0`)
- üì¶ –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
- üõçÔ∏è –ë–ª–æ–∫ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- üí∞ –§—É—Ç–µ—Ä —Å –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –∏ –∫–Ω–æ–ø–∫–æ–π –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 1. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞** (`increase-quantity-integration`)
```json
{
  "method": "PATCH",
  "url": "/api/carts/update-quantity",
  "body": {
    "cart_id": 3,
    "advertisement_id": "${selected_item_id}",
    "quantity_change": 1
  }
}
```
- **–°–æ–±—ã—Ç–∏–µ**: `increaseQuantity`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `selected_item_id` (ID —Ç–æ–≤–∞—Ä–∞)
- **–ü–µ—Ä–µ—Ö–æ–¥**: ‚Üí `fetch-cart-items` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã)

---

### 2. **–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞** (`decrease-quantity-integration`)
```json
{
  "method": "PATCH",
  "url": "/api/carts/update-quantity",
  "body": {
    "cart_id": 3,
    "advertisement_id": "${selected_item_id}",
    "quantity_change": -1
  }
}
```
- **–°–æ–±—ã—Ç–∏–µ**: `decreaseQuantity`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `selected_item_id` (ID —Ç–æ–≤–∞—Ä–∞)
- **–ü–µ—Ä–µ—Ö–æ–¥**: ‚Üí `fetch-cart-items`

---

### 3. **–£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞** (`remove-item-integration`)
```json
{
  "method": "DELETE",
  "url": "/api/carts/remove-advertisement",
  "body": {
    "cart_id": 3,
    "advertisement_id": "${selected_item_id}"
  }
}
```
- **–°–æ–±—ã—Ç–∏–µ**: `removeItem`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `selected_item_id` (ID —Ç–æ–≤–∞—Ä–∞)
- **–ü–µ—Ä–µ—Ö–æ–¥**: ‚Üí `fetch-cart-items`
- **–í–∏–∑—É–∞–ª**: –ö–Ω–æ–ø–∫–∞ üóëÔ∏è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∫–∞—Ä—Ç–æ—á–∫–∏

---

### 4. **–°–Ω—è—Ç–∏–µ/–≤–æ–∑–≤—Ä–∞—Ç —Ñ–æ–∫—É—Å–∞** (`toggle-focus-integration`)
```json
{
  "method": "PATCH",
  "url": "/api/carts/toggle-focus",
  "body": {
    "cart_id": 3,
    "advertisement_id": "${selected_item_id}"
  }
}
```
- **–°–æ–±—ã—Ç–∏–µ**: `toggleFocus`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `selected_item_id` (ID —Ç–æ–≤–∞—Ä–∞)
- **–ü–µ—Ä–µ—Ö–æ–¥**: ‚Üí `fetch-cart-items`
- **–í–∏–∑—É–∞–ª**: –ß–µ–∫–±–æ–∫—Å ‚òëÔ∏è/‚¨ú –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –∫–∞—Ä—Ç–æ—á–∫–∏
- **–≠—Ñ—Ñ–µ–∫—Ç**: –¢–æ–≤–∞—Ä –±–µ–∑ —Ñ–æ–∫—É—Å–∞ –∏–º–µ–µ—Ç `opacity: 0.5` –∏ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞—Å—á–µ—Ç–µ

---

### 5. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–≥–æ —Ç–æ–≤–∞—Ä–∞** (`add-to-cart-integration`)
```json
{
  "method": "POST",
  "url": "/api/carts/add-advertisement",
  "body": {
    "cart_id": 3,
    "advertisement_id": 10
  }
}
```
- **–°–æ–±—ã—Ç–∏–µ**: `addToCart`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: `advertisement_id` (ID –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–≥–æ —Ç–æ–≤–∞—Ä–∞)
- **–ü–µ—Ä–µ—Ö–æ–¥**: ‚Üí `fetch-cart-items`
- **–í–∏–∑—É–∞–ª**: –ö–Ω–æ–ø–∫–∞ "–í –∫–æ—Ä–∑–∏–Ω—É" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ `cart_response`
```json
{
  "cart_response": {
    "id": 3,
    "user_id": 14,
    "advertisements": [
      {
        "id": 1,
        "name": "–¢–æ–≤–∞—Ä",
        "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
        "price": 1000,
        "quantity": 2,
        "is_focused": true,
        "image": "https://..."
      }
    ],
    "total_price": 2000,
    "selected_count": 1
  }
}
```

### –ù–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- `selected_item_id`: ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π
- `quantity_change`: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ (+1 –∏–ª–∏ -1)
- `suggested_products`: –ú–∞—Å—Å–∏–≤ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

---

## üé® UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [–§–æ—Ç–æ]  –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞          üóëÔ∏è ‚òëÔ∏è‚îÇ
‚îÇ         –û–ø–∏—Å–∞–Ω–∏–µ                       ‚îÇ
‚îÇ         1 000 ‚ÇΩ                        ‚îÇ
‚îÇ                           [‚àí] 2 [+]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–≠–ª–µ–º–µ–Ω—Ç—ã**:
- üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 80√ó80px
- üìù –ù–∞–∑–≤–∞–Ω–∏–µ (fontSize: 15px, fontWeight: 600)
- üí¨ –û–ø–∏—Å–∞–Ω–∏–µ (fontSize: 13px, color: #8E8E93)
- üí∞ –¶–µ–Ω–∞ (fontSize: 17px, fontWeight: 700)
- üî¢ –°—á–µ—Ç—á–∏–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ ¬±
- üóëÔ∏è –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
- ‚òëÔ∏è –ß–µ–∫–±–æ–∫—Å —Ñ–æ–∫—É—Å–∞

**–î–∏–Ω–∞–º–∏–∫–∞**:
- `opacity: 0.5` –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –±–µ–∑ —Ñ–æ–∫—É—Å–∞ (`is_focused: false`)
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç `selected_item_id` –≤ eventParams

---

### –ö–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [–§–æ—Ç–æ] –ù–∞–∑–≤–∞–Ω–∏–µ       [–í –∫–æ—Ä–∑–∏–Ω—É]   ‚îÇ
‚îÇ        1 000 ‚ÇΩ                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–≠–ª–µ–º–µ–Ω—Ç—ã**:
- üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 60√ó60px
- üìù –ù–∞–∑–≤–∞–Ω–∏–µ (fontSize: 14px)
- üí∞ –¶–µ–Ω–∞ (fontSize: 15px, fontWeight: 700)
- ‚ûï –ö–Ω–æ–ø–∫–∞ "–í –∫–æ—Ä–∑–∏–Ω—É" (primary, blue)

**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö**: `${suggested_products}`

---

### –§—É—Ç–µ—Ä —Å –∏—Ç–æ–≥–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ò—Ç–æ–≥–æ                  –í—ã–±—Ä–∞–Ω–æ: 2    ‚îÇ
‚îÇ 2 000 ‚ÇΩ                              ‚îÇ
‚îÇ                                       ‚îÇ
‚îÇ     [–û—Ñ–æ—Ä–º–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É]              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–≠–ª–µ–º–µ–Ω—Ç—ã**:
- üí∞ –ò—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ (`cart_response.total_price`)
- üî¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö (`cart_response.selected_count`)
- üöö –ö–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (disabled –µ—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞)

---

## üîÑ –ì—Ä–∞—Ñ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

```mermaid
graph TD
    A[fetch-cart-items] -->|–ó–∞–≥—Ä—É–∑–∫–∞| B[cart-main]
    
    B -->|addToCart| C[add-to-cart-integration]
    B -->|increaseQuantity| D[increase-quantity-integration]
    B -->|decreaseQuantity| E[decrease-quantity-integration]
    B -->|removeItem| F[remove-item-integration]
    B -->|toggleFocus| G[toggle-focus-integration]
    B -->|checkout| H[checkout-screen]
    
    C -->|–£—Å–ø–µ—Ö| A
    D -->|–£—Å–ø–µ—Ö| A
    E -->|–£—Å–ø–µ—Ö| A
    F -->|–£—Å–ø–µ—Ö| A
    G -->|–£—Å–ø–µ—Ö| A
    
    style A fill:#e1f5ff
    style B fill:#fff4e1
    style C fill:#ffe1e1
    style D fill:#ffe1e1
    style E fill:#ffe1e1
    style F fill:#ffe1e1
    style G fill:#ffe1e1
    style H fill:#e1ffe1
```

**–õ–æ–≥–∏–∫–∞**:
1. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞) ‚Üí **fetch-cart-items**
2. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
3. `cart-main` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–í –∫–æ—Ä–∑–∏–Ω—É" –Ω–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–º —Ç–æ–≤–∞—Ä–µ
event: "addToCart"
eventParams: {
  advertisement_id: 10  // ID –∏–∑ ${suggested.id}
}
```

### 2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç [+] –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
event: "increaseQuantity"
eventParams: {
  selected_item_id: 5  // ID –∏–∑ ${product.id}
}
```

### 3. –°–Ω—è—Ç–∏–µ —Ñ–æ–∫—É—Å–∞
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç —á–µ–∫–±–æ–∫—Å ‚òëÔ∏è
event: "toggleFocus"
eventParams: {
  selected_item_id: 5
}
// –¢–æ–≤–∞—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –∏ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ä–∞—Å—á–µ—Ç–µ
```

### 4. –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç üóëÔ∏è
event: "removeItem"
eventParams: {
  selected_item_id: 5
}
// –¢–æ–≤–∞—Ä —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
```

---

## üîç –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```json
{
  "type": "conditional",
  "properties": {
    "condition": {
      "reference": "${cart_response.advertisements.length === 0}",
      "value": true
    }
  }
}
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
```json
{
  "type": "conditional",
  "properties": {
    "condition": {
      "reference": "${cart_response.advertisements.length > 0}",
      "value": false
    }
  }
}
```

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
```json
{
  "type": "button",
  "properties": {
    "disabled": {
      "reference": "${cart_response.advertisements.length === 0}",
      "value": true
    }
  }
}
```

### –í–∏–∑—É–∞–ª—å–Ω–æ–µ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –±–µ–∑ —Ñ–æ–∫—É—Å–∞
```json
{
  "style": {
    "opacity": {
      "reference": "${product.is_focused ? 1 : 0.5}",
      "value": 1
    }
  }
}
```

---

## üì° API endpoints

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| GET | `/api/carts/3/with-advertisements` | –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã |
| POST | `/api/carts/add-advertisement` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| PATCH | `/api/carts/update-quantity` | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ |
| DELETE | `/api/carts/remove-advertisement` | –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| PATCH | `/api/carts/toggle-focus` | –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–∞ |

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **DRY –ø—Ä–∏–Ω—Ü–∏–ø**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ `fetch-cart-items` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2. **–ü–æ–Ω—è—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ß–µ—Ç–∫–∏–π –≥—Ä–∞—Ñ —Å–æ—Å—Ç–æ—è–Ω–∏–π
3. **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
4. **UX**: –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (opacity, disabled –∫–Ω–æ–ø–∫–∏)
5. **Extensibility**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π
6. **BDUI-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ª–µ–¥—É—é—Ç schema –∏–∑ prompts

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. **Backend**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API endpoints
3. **–ê–Ω–∏–º–∞—Ü–∏–∏**: –î–æ–±–∞–≤–∏—Ç—å transitions –¥–ª—è smooth UX
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: Debounce –¥–ª—è rapid clicks –Ω–∞ [+]/[-]
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –î–æ–±–∞–≤–∏—Ç—å tracking —Å–æ–±—ã—Ç–∏–π
6. **Accessibility**: ARIA labels –¥–ª—è screen readers

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–§–∞–π–ª**: `src/pages/Sandbox/data/avitoDemo.json`  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 17 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 2.0.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ JSON –≤–∞–ª–∏–¥–µ–Ω, –æ—à–∏–±–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

