# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: avitoDemo —ç–∫—Å–ø–æ—Ä—Ç

## –ó–∞ 3 –º–∏–Ω—É—Ç—ã –æ—Ç –∑–∞–ø—É—Å–∫–∞ –¥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (30 —Å–µ–∫)

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –Ω–∞ `http://localhost:5174`

### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å avitoDemo (30 —Å–µ–∫)

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ http://localhost:5174/products
2. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É **"–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞"**
3. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è "avitoDemo loaded successfully!" ‚úÖ

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (1 –º–∏–Ω)

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

‚úÖ **–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- –ù–∞–∑–≤–∞–Ω–∏–µ: "–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞"
- –í–µ—Ä—Å–∏—è: v1.0.0
- –û–ø–∏—Å–∞–Ω–∏–µ: "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∫–æ—Ä–∑–∏–Ω—ã Avito..."

‚úÖ **–°–ø–∏—Å–æ–∫ —ç–∫—Ä–∞–Ω–æ–≤:** 11 —ç–∫—Ä–∞–Ω–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞
- –ö–æ—Ä–∑–∏–Ω–∞ ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞
- –ò —Ç.–¥.

‚úÖ **–ö–Ω–æ–ø–∫–∞:** "Export Workflow" (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)

### –®–∞–≥ 4: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å workflow (1 –º–∏–Ω)

#### –í–∞—Ä–∏–∞–Ω—Ç A: Mock Mode (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```bash
# –ü—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–Ω—É—Ç—å "Export Workflow"
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
# –£–≤–∏–¥–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö:
{
  workflow_name: "–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞",
  states: [...]
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –†–µ–∞–ª—å–Ω—ã–π Workflow Server

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Workflow Server (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd workflow-server
uvicorn main:app --reload

# 2. –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12):
localStorage.setItem('workflowServerUrl', 'http://127.0.0.1:8000');

# 3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É

# 4. –ö–ª–∏–∫–Ω—É—Ç—å "Export Workflow"

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Network –≤–∫–ª–∞–¥–∫—É:
#    POST http://127.0.0.1:8000/api/workflows
#    Status: 200 OK ‚úÖ
```

## üéØ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å avitoDemo —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ Workflow Server.

---

## üìã –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≥—Ä–∞—Ñ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
```
http://localhost:5174/products/avito-cart-demo/screens/start/editor
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏ —ç–∫—Ä–∞–Ω–∞
```
http://localhost:5174/products/avito-cart-demo/screens/screen-loading/builder
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ
```
http://localhost:5174/sandbox
```
(–í—ã–±—Ä–∞—Ç—å "Avito Demo" –∏–∑ —Å–ø–∏—Å–∫–∞ –ø—Ä–µ—Å–µ—Ç–æ–≤)

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: avitoDemo –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å (F12) ‚Üí –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏?
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `src/pages/Sandbox/data/avitoDemo.json`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å React DevTools ‚Üí VirtualContext ‚Üí graphData

### –ü—Ä–æ–±–ª–µ–º–∞: Export Workflow –≤—ã–¥–∞—ë—Ç –æ—à–∏–±–∫—É

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ graphData.nodes –Ω–µ –ø—É—Å—Ç–æ–π
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å ‚Üí –ª–æ–≥–∏ –æ—Ç useWorkflowApi
3. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `curl http://127.0.0.1:8000/health`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç API: `name` (–Ω–µ `state_name`), `state_id` (–Ω–µ `target_state_name`)

### –ü—Ä–æ–±–ª–µ–º–∞: 422 Unprocessable Entity

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä—ã—Ç—å `docs/WORKFLOW_FINAL_CONTRACT_FIX.md`
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
   - `state.name` (–Ω–µ `state.state_name`)
   - `transition.state_id` (–Ω–µ `transition.target_state_name`)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã:
   - `src/types/workflowContract.js`
   - `src/services/workflowApi.js`
   - `src/utils/workflowMapper.js`

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **AVITO_DEMO_INTEGRATION.md** - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **AVITO_DEMO_TEST_CHECKLIST.md** - –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (50 –ø—É–Ω–∫—Ç–æ–≤)
- **AVITO_DEMO_SUMMARY.md** - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

---

## üí° –°–æ–≤–µ—Ç—ã

### –û—Ç–ª–∞–¥–∫–∞ —á–µ—Ä–µ–∑ DevTools

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

// 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
console.log(window.__REACT_DEVTOOLS_GLOBAL_HOOK__);

// 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å VirtualContext
// React DevTools ‚Üí Components ‚Üí VirtualContextProvider ‚Üí hooks ‚Üí state

// 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å graphData
// –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
// - nodes: Array(11)
// - edges: Array(~25)
```

### –†–µ–∂–∏–º –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```javascript
// –í src/hooks/useWorkflowApi.js
// –í—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ (—É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã)

// –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:
// ‚úÖ [WorkflowAPI] Exporting workflow: –ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞
// ‚úÖ [WorkflowAPI] Mapped 11 states from 11 nodes
// ‚úÖ [WorkflowAPI] States: ["–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã", "–ö–æ—Ä–∑–∏–Ω–∞ ‚Äî –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω", ...]
// ‚úÖ [WorkflowAPI] Total transitions: 25
// ‚úÖ [WorkflowAPI] Export successful!
```

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~3 –º–∏–Ω—É—Ç—ã  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¢ –õ–µ–≥–∫–æ  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É
