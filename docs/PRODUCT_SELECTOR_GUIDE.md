# üì¶ Product Selector ‚Äî –í—ã–±–æ—Ä Workflow

## –û–±–∑–æ—Ä

**Product Selector** ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ workflow (–ø—Ä–æ–¥—É–∫—Ç–∞) –≤ Sandbox. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞!

## üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã

### 1. **–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞ —Å Subflow** üî• NEW
- **ID:** `avito-cart-demo-subflow`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** E-commerce
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ —á–µ—Ä–µ–∑ Subflow
  - Input/Output mapping
  - Dependent variables
  - Error handling
- **–¢–µ–≥–∏:** `avito`, `cart`, `subflow`, `onboarding`, `api`, `advanced`
- **–°—Ç–∞—Ç—É—Å:** Featured (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

### 2. **–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è)**
- **ID:** `avito-cart-demo`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** E-commerce
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π workflow
  - –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ä–∑–∏–Ω—ã
  - API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–¢–µ–≥–∏:** `avito`, `cart`, `api`, `classic`

### 3. **E-commerce Dashboard**
- **ID:** `demo-checkout-product`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** E-commerce
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
  - –ü—Ä–æ—Å—Ç–æ–π –¥–µ–º–æ-—Å—Ü–µ–Ω–∞—Ä–∏–π
  - –í–æ—Ä–æ–Ω–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
- **–¢–µ–≥–∏:** `checkout`, `demo`, `simple`

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ `/sandbox`
2. –í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –Ω–∞–π–¥–∏—Ç–µ **Product Selector** (üì¶)
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
4. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –∏–∑ —Å–ø–∏—Å–∫–∞

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞

#### üîç –ü–æ–∏—Å–∫
–í–≤–µ–¥–∏—Ç–µ –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞: `"–ê–≤–∏—Ç–æ"`
- –û–ø–∏—Å–∞–Ω–∏–µ: `"Subflow"`
- –¢–µ–≥–∏: `"onboarding"`, `"api"`, `"cart"`

#### üè∑Ô∏è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–í—Å–µ** ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã
- **üõí E-commerce** ‚Äî —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤
- **üëã Onboarding** ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **üìù Forms** ‚Äî —Ñ–æ—Ä–º—ã –∏ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

#### ‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
–ü—Ä–æ–¥—É–∫—Ç—ã —Å badge "üî• NEW" –∏–ª–∏ –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ Featured –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–µ–∫—Ü–∏–∏.

#### ‚úì –¢–µ–∫—É—â–∏–π –ø—Ä–æ–¥—É–∫—Ç
–í—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –∏ –∏–º–µ–µ—Ç –≥–∞–ª–æ—á–∫—É.

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞

### 1. –°–æ–∑–¥–∞–π—Ç–µ JSON —Ñ–∞–π–ª workflow

```javascript
// src/pages/Sandbox/data/myNewWorkflow.json
{
  "id": "my-new-workflow",
  "name": "My New Workflow",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ workflow",
  "nodes": [...],
  "screens": {...}
}
```

### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ products.js

```javascript
// src/pages/Sandbox/data/products.js
import myNewWorkflow from './myNewWorkflow.json';

export const PRODUCTS = [
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã
  {
    id: 'my-new-workflow',
    name: 'My New Workflow',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ workflow',
    category: 'ecommerce', // –∏–ª–∏ 'onboarding', 'forms'
    data: myNewWorkflow,
    tags: ['custom', 'new'],
    featured: false,
    badge: 'üéâ NEW' // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  }
];
```

### 3. –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–¥—É–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ.

## üé® –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–¥—É–∫—Ç–∞

```typescript
type Product = {
  id: string;              // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
  name: string;            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
  description: string;     // –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
  category: string;        // –ö–∞—Ç–µ–≥–æ—Ä–∏—è (ecommerce, onboarding, forms)
  data: object;            // JSON –¥–∞–Ω–Ω—ã–µ workflow
  tags: string[];          // –¢–µ–≥–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
  featured: boolean;       // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—Ä–æ–¥—É–∫—Ç
  badge?: string;          // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π badge (üî• NEW, ‚≠ê POPULAR)
};
```

## üìö API

### –§—É–Ω–∫—Ü–∏–∏ –∏–∑ products.js

```javascript
import {
  PRODUCTS,               // –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  CATEGORIES,             // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
  getProductById,         // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ ID
  getProductsByCategory,  // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  getFeaturedProducts,    // –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
  getDefaultProduct,      // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  searchProducts          // –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
} from './data/products';

// –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const product = getProductById('avito-cart-demo-subflow');
const featured = getFeaturedProducts();
const ecommerce = getProductsByCategory('ecommerce');
const results = searchProducts('subflow');
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```javascript
import ProductSelector from './components/ProductSelector';

function MyComponent() {
  const [currentProductId, setCurrentProductId] = useState('avito-cart-demo');

  const handleChange = (productId) => {
    setCurrentProductId(productId);
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π workflow
  };

  return (
    <ProductSelector
      currentProductId={currentProductId}
      onProductChange={handleChange}
      disabled={false}
    />
  );
}
```

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Subflow vs Classic

1. –í—ã–±–µ—Ä–∏—Ç–µ **"–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞ —Å Subflow"**
2. –ü—Ä–æ–π–¥–∏—Ç–µ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ **"–ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è)"**
4. –°—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

### –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–¥—É–∫—Ç
2. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã
3. –î–æ–±–∞–≤—å—Ç–µ –≤ —Å–ø–∏—Å–æ–∫
4. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ —Å–µ–ª–µ–∫—Ç–æ—Ä

### A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ workflow
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –æ–±–∞ –≤ products.js
3. –ë—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
4. –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ UX –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞

```javascript
const product = 
  workflowData       || // 1. –ó–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ API
  runtimeProduct     || // 2. –ü–µ—Ä–µ–¥–∞–Ω —á–µ—Ä–µ–∑ location.state
  selectedProduct    || // 3. –í—ã–±—Ä–∞–Ω —á–µ—Ä–µ–∑ ProductSelector
  defaultProductData;   // 4. –ü—Ä–æ–¥—É–∫—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (featured)
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ü—Ä–∏ —Å–º–µ–Ω–µ –ø—Ä–æ–¥—É–∫—Ç–∞:
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –æ—á–∏—â–∞–µ—Ç—Å—è
- ‚úÖ –§–æ—Ä–º–∞ –∏–Ω–ø—É—Ç–æ–≤ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
- ‚úÖ –¢–µ–∫—É—â–∞—è –Ω–æ–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ start

### –£—Å–ª–æ–≤–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

ProductSelector –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
- ‚ùå –ù–µ—Ç `workflowData` (–Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ API)
- ‚ùå –ù–µ—Ç `runtimeProduct` (–Ω–µ –ø–µ—Ä–µ–¥–∞–Ω —á–µ—Ä–µ–∑ state)

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/src/pages/Sandbox/components/ProductSelector.css`:

```css
.product-selector-trigger {
  /* –í–∞—à–∏ —Å—Ç–∏–ª–∏ */
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```javascript
// src/pages/Sandbox/data/products.js
export const CATEGORIES = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
  myCategory: {
    id: 'myCategory',
    name: 'My Category',
    icon: 'üé®',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏'
  }
};
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏

–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –≤—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ analytics:

```javascript
// –í SandboxPage.jsx
const handleProductChange = (productId) => {
  trackEvent('product_selected', {
    product_id: productId,
    previous_product: currentProductId
  });
  // ...
};
```

## üêõ Troubleshooting

### –ü—Ä–æ–¥—É–∫—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç JSON –≤ `products.js`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –æ–±—ä–µ–∫—Ç–∞ Product
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `id`

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ –ø—Ä–æ–¥—É–∫—Ç–∞

- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É workflow (nodes, screens)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ initialContext
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ start node

### ProductSelector –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç `workflowData` –∏–ª–∏ `runtimeProduct`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ SandboxPage

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 18 –æ–∫—Ç—è–±—Ä—è 2025 –≥.
