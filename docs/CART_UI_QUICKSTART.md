# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: UI –∫–æ—Ä–∑–∏–Ω—ã Avito

## ‚ö° –ó–∞ 5 –º–∏–Ω—É—Ç

### 1Ô∏è‚É£ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã**

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –≤–∞—à –∫–æ–Ω—Ç–µ–∫—Å—Ç:

```javascript
{
  "cart_response": {
    "id": 3,
    "user_id": 4,
    "shop_groups": [
      {
        "shop_id": 1,
        "shop_name": "Pear Store",
        "rating": 4.8,
        "reviews_count": 643,
        "selected": true,
        "items": [
          {
            "advertisement_id": 101,
            "name": "–ó–∞—Ä—è–¥–∫–∞ MagSafe Charger",
            "description": "15W 1 –º–µ—Ç—Ä",
            "image": "https://via.placeholder.com/80",
            "price": 4990,
            "original_price": 5990,
            "discount_percent": 17,
            "quantity": 2,
            "selected": true
          }
        ]
      }
    ],
    "total_amount": 9980,
    "selected_items_count": 2,
    "total_items_count": 2
  },
  "suggested_products": [
    {
      "id": 10,
      "name": "Apple Watch 10",
      "price": 26591,
      "original_price": 27990,
      "image": "https://via.placeholder.com/60"
    }
  ],
  "ui": {
    "notifications": {
      "message": null,
      "actionLabel": null,
      "actionEvent": null
    }
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ —Å–∫–∏–¥–∫–æ–π! ‚úÖ

---

### 2Ô∏è‚É£ **–ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**

–ò–∑–º–µ–Ω–∏—Ç–µ `ui.notifications`:

```javascript
{
  "ui": {
    "notifications": {
      "message": "–¢–æ–≤–∞—Ä —É–¥–∞–ª—ë–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã",
      "actionLabel": "–í–µ—Ä–Ω—É—Ç—å",
      "actionEvent": "undoRemoveItem"
    }
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–Ω—ç–∫–±–∞—Ä –ø–æ—è–≤–∏—Ç—Å—è –≤–Ω–∏–∑—É! üîî

---

### 3Ô∏è‚É£ **–ü–æ–∫–∞–∑–∞—Ç—å –ø—É—Å—Ç—É—é –∫–æ—Ä–∑–∏–Ω—É**

–û—á–∏—Å—Ç–∏—Ç–µ `shop_groups`:

```javascript
{
  "cart_response": {
    "shop_groups": [],
    "total_amount": 0,
    "selected_items_count": 0,
    "total_items_count": 0
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Empty State —Å –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–µ–π! üõí

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### **Backend –≥–æ—Ç–æ–≤ –µ—Å–ª–∏:**
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `cart_response.shop_groups[]`
- [ ] –ö–∞–∂–¥—ã–π –º–∞–≥–∞–∑–∏–Ω –∏–º–µ–µ—Ç `rating` –∏ `reviews_count`
- [ ] –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –∏–º–µ–µ—Ç `price`, `quantity`, `selected`
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ï—Å—Ç—å `original_price` –¥–ª—è —Å–∫–∏–¥–æ–∫

### **Frontend –≥–æ—Ç–æ–≤ –µ—Å–ª–∏:**
- [ ] `SandboxScreenRenderer` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `checkbox`
- [ ] `SandboxScreenRenderer` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `conditional`
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ API-–∑–∞–ø—Ä–æ—Å–æ–≤

---

## üéØ –¢–æ–ø-5 —Ñ–∏—á –¥–ª—è –¥–µ–º–æ

### 1. **–°–∫–∏–¥–∫–∏**
–î–æ–±–∞–≤—å—Ç–µ `original_price` –∏ `discount_percent`:
```javascript
{
  "price": 4990,
  "original_price": 5990,
  "discount_percent": 17
}
```
‚Üí –ö—Ä–∞—Å–Ω—ã–π –±–µ–π–¥–∂ `-17%` –ø–æ—è–≤–∏—Ç—Å—è! üè∑Ô∏è

### 2. **–°–Ω—è—Ç–∏–µ —Ñ–æ–∫—É—Å–∞**
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `selected: false`:
```javascript
{
  "selected": false
}
```
‚Üí –¢–æ–≤–∞—Ä —Å—Ç–∞–Ω–µ—Ç –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º! üëª

### 3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**
–ü–æ–∫–∞–∂–∏—Ç–µ —Å–Ω—ç–∫–±–∞—Ä:
```javascript
{
  "ui": {
    "notifications": {
      "message": "–£—Å–ø–µ—à–Ω–æ!",
      "actionLabel": "OK",
      "actionEvent": "closeNotification"
    }
  }
}
```
‚Üí –ö—Ä–∞—Å–∏–≤—ã–π —Å–Ω—ç–∫–±–∞—Ä –≤–Ω–∏–∑—É! üí¨

### 4. **–†–µ–π—Ç–∏–Ω–≥ –º–∞–≥–∞–∑–∏–Ω–∞**
–î–æ–±–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥–æ—á–∫—É:
```javascript
{
  "shop_name": "Pear Store",
  "rating": 4.8,
  "reviews_count": 643
}
```
‚Üí `‚≠ê 4.8 (643)` –ø–æ—è–≤–∏—Ç—Å—è! ‚≠ê

### 5. **–ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞**
–û—á–∏—Å—Ç–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã:
```javascript
{
  "shop_groups": []
}
```
‚Üí –ö—Ä–∞—Å–∏–≤–∞—è –∑–∞–≥–ª—É—à–∫–∞! üé®

---

## üîß –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **–ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å–ª–æ–≤–∏–µ:
```javascript
original_price > price  // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å true
```

### **–ü—Ä–æ–±–ª–µ–º–∞: –°–Ω—ç–∫–±–∞—Ä –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```javascript
ui.notifications.message !== null  // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å true
```

### **–ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ**
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º—É–ª—É:
```javascript
count === 1 ? '—Ç–æ–≤–∞—Ä' : (count >= 2 && count <= 4 ? '—Ç–æ–≤–∞—Ä–∞' : '—Ç–æ–≤–∞—Ä–æ–≤')
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ API

### **GET /api/carts/{id}**

```json
{
  "id": 3,
  "shop_groups": [
    {
      "shop_id": 1,
      "shop_name": "Store Name",
      "rating": 4.8,
      "reviews_count": 643,
      "selected": true,
      "items": [
        {
          "advertisement_id": 101,
          "name": "Product Name",
          "image": "url",
          "price": 1000,
          "quantity": 1,
          "selected": true
        }
      ]
    }
  ],
  "total_amount": 1000,
  "selected_items_count": 1,
  "total_items_count": 1
}
```

---

## üé® –í–∏–∑—É–∞–ª—å–Ω–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

### **–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞:**

| –£—Å–ª–æ–≤–∏–µ | –ß—Ç–æ –≤–∏–¥–Ω–æ |
|---------|-----------|
| `shop_groups = []` | üõí Empty State |
| `shop_groups.length > 0` | üì¶ –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ |
| `original_price > price` | ~~–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞~~ |
| `discount_percent > 0` | `-17%` –±–µ–π–¥–∂ |
| `notifications.message != null` | üí¨ –°–Ω—ç–∫–±–∞—Ä |
| `quantity = 1` | üö´ –ö–Ω–æ–ø–∫–∞ "‚àí" disabled |
| `total_items_count = 0` | üö´ Checkout disabled |
| `selected = false` | üëª Opacity 0.5 |

---

## üöÄ 3 –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
# 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª
open src/pages/Sandbox/data/avitoDemo.json

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# 3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open http://localhost:5173
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:** `docs/CART_UI_IMPROVEMENTS.md`
- **–®–ø–∞—Ä–≥–∞–ª–∫–∞:** `docs/CART_UI_CHEATSHEET.md`
- **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:** `docs/CART_UI_TEST_DATA.md`
- **–°–≤–æ–¥–∫–∞:** `docs/CART_UI_SUMMARY.md`

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:
- ‚úÖ Pixel-perfect UI –∫–æ—Ä–∑–∏–Ω—ã
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ –í—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

**–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!** üéâ
