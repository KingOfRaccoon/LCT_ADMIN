# ‚úÖ Snackbar –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

**–°—Ç–∞—Ç—É—Å:** üü¢ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ  
**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2025

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
npm run dev
```

### 2Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

```
http://localhost:5173
‚Üí Sandbox
‚Üí –ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

1. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏)
2. **–ù–∞–∂–º–∏—Ç–µ üóëÔ∏è** –Ω–∞ –ª—é–±–æ–º —Ç–æ–≤–∞—Ä–µ
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ snackbar:**
   ```
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ –¢–æ–≤–∞—Ä —É–¥–∞–ª—ë–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã  [–í–µ—Ä–Ω—É—Ç—å] ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ```
4. **–ù–∞–∂–º–∏—Ç–µ "–í–µ—Ä–Ω—É—Ç—å"**
5. **–£–±–µ–¥–∏—Ç–µ—Å—å:** —Ç–æ–≤–∞—Ä –≤–µ—Ä–Ω—É–ª—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞
Snackbar –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞.

### –ü—Ä–∏—á–∏–Ω–∞
–í —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `prepare-remove-item` —Ç–æ–≤–∞—Ä –∏—Å–∫–∞–ª—Å—è –ø–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –ø–æ–ª—é:
- ‚ùå –ë—ã–ª–æ: `i.id === selected_item_id`
- ‚úÖ –°—Ç–∞–ª–æ: `i.advertisement_id === selected_item_id`

### –†–µ—à–µ–Ω–∏–µ
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–∞ –≤ `prepare-remove-item`:

```javascript
const item = cart_response.shop_groups
  .flatMap(shop => shop.items)
  .find(i => i.advertisement_id === selected_item_id);
```

---

## üéØ –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:
```
–ö–æ—Ä–∑–∏–Ω–∞ (3 —Ç–æ–≤–∞—Ä–∞)
‚îú‚îÄ –¢–æ–≤–∞—Ä A (2 —à—Ç)
‚îú‚îÄ –¢–æ–≤–∞—Ä B (1 —à—Ç) ‚Üê [üóëÔ∏è –ù–∞–∂–∞–ª–∏]
‚îî‚îÄ –¢–æ–≤–∞—Ä C (3 —à—Ç)

         ‚Üì

–ö–æ—Ä–∑–∏–Ω–∞ (2 —Ç–æ–≤–∞—Ä–∞)
‚îú‚îÄ –¢–æ–≤–∞—Ä A (2 —à—Ç)
‚îî‚îÄ –¢–æ–≤–∞—Ä C (3 —à—Ç)

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –¢–æ–≤–∞—Ä —É–¥–∞–ª—ë–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã [–í–µ—Ä–Ω—É—Ç—å]‚îÇ ‚Üê Snackbar –ø–æ—è–≤–∏–ª—Å—è
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:
```
[–ù–∞–∂–∞–ª–∏ "–í–µ—Ä–Ω—É—Ç—å"]

         ‚Üì

–ö–æ—Ä–∑–∏–Ω–∞ (3 —Ç–æ–≤–∞—Ä–∞)
‚îú‚îÄ –¢–æ–≤–∞—Ä A (2 —à—Ç)
‚îú‚îÄ –¢–æ–≤–∞—Ä B (1 —à—Ç) ‚Üê –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
‚îî‚îÄ –¢–æ–≤–∞—Ä C (3 —à—Ç)

Snackbar –∏—Å—á–µ–∑ ‚úì
```

---

## üîç –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–æ—Å—Ç–æ—è–Ω–∏—è (States):
1. **prepare-remove-item** (Technical)
   - –ù–∞—Ö–æ–¥–∏—Ç —Ç–æ–≤–∞—Ä –ø–æ `advertisement_id` ‚úÖ
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `removed_item`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç snackbar

2. **remove-item-integration** (Integration)
   - DELETE –∑–∞–ø—Ä–æ—Å –∫ API

3. **undo-remove-item-integration** (Integration)
   - PATCH –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

4. **clear-undo-state** (Technical)
   - –û—á–∏—â–∞–µ—Ç snackbar
   - –û—á–∏—â–∞–µ—Ç `removed_item`

### –°–µ–∫—Ü–∏—è snackbar:
```javascript
{
  "position": "fixed",
  "bottom": "90px",      // –í—ã—à–µ footer
  "left": "0",
  "right": "0",
  "zIndex": 1000,
  "backgroundColor": "#2F3034",
  "borderRadius": "12px"
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `removed_item: { id, quantity }` - –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- `ui.notifications.message` - —Ç–µ–∫—Å—Ç snackbar
- `ui.notifications.actionLabel` - —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
- `ui.notifications.actionEvent` - —Å–æ–±—ã—Ç–∏–µ –∫–Ω–æ–ø–∫–∏

---

## üì° API Endpoints

```bash
# –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
DELETE https://sandkittens.me/backservices/api/carts/3/advertisements/${id}

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
PATCH https://sandkittens.me/backservices/api/carts/3/items/${id}
Body: { "quantity": 2 }

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
GET https://sandkittens.me/backservices/api/carts/3
```

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ DevTools

### Network Tab:
```
1. –£–¥–∞–ª–µ–Ω–∏–µ:
   DELETE .../advertisements/8  ‚Üí 200 OK
   GET .../carts/3              ‚Üí 200 OK

2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:
   PATCH .../items/8            ‚Üí 200 OK
   GET .../carts/3              ‚Üí 200 OK
```

### Console:
–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å:
- `removed_item`
- `ui.notifications`
- `advertisement_id`

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Snackbar –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è?
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console –Ω–∞ –æ—à–∏–±–∫–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `ui.notifications.message` –≤ React DevTools

### –ö–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å" –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–±—ã—Ç–∏–µ `undoRemoveItem` –≤ Console
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network ‚Üí PATCH –∑–∞–ø—Ä–æ—Å
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `removed_item` –∑–∞–ø–æ–ª–Ω–µ–Ω

### –¢–æ–≤–∞—Ä –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º?
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `removed_item.quantity` –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–ª–æ PATCH –∑–∞–ø—Ä–æ—Å–∞ –≤ Network Tab

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤:
- [`avitoDemo-snackbar-render-fix.md`](./avitoDemo-snackbar-render-fix.md) - —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [`avitoDemo-snackbar-quick-ref.md`](./avitoDemo-snackbar-quick-ref.md) - –±—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞
- [`avitoDemo-snackbar-testing.md`](./avitoDemo-snackbar-testing.md) - –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [`avitoDemo-snackbar-index.md`](./avitoDemo-snackbar-index.md) - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

---

## üéâ –ì–æ—Ç–æ–≤–æ!

Snackbar —Ç–µ–ø–µ—Ä—å **–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** –∏ –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û—Ç–∫—Ä–æ–π—Ç–µ Sandbox ‚Üí –ê–≤–∏—Ç–æ ‚Äî –ö–æ—Ä–∑–∏–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ/–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞.

---

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- ‚úÖ `src/pages/Sandbox/data/avitoDemo.json` (—Å—Ç—Ä–æ–∫–∞ ~325)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~5 –º–∏–Ω—É—Ç  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:** 1 (prepare-remove-item)  
**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:** 1 (removed_item)
